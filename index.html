<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IRIDM DM Assistant</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="path/to/your/chatbot-proxy.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
  <header>
    <h1>IRIDM Disaster‚ÄëManagement Assistant</h1>
    <p>Plan and respond to emergencies effectively across the IRIDM campus.</p>
     <img src="IRIDM LOGO 1.png" alt="IRIDM Logo" class="logo">
  </header>
  <!--<div class="header">
  <h1>IRIDM Disaster Management System</h1>
  <img src="IRIDM LOGO 1.png" alt="IRIDM Logo" class="logo">
</div> -->

<div class="accordion-section">
  <button class="accordion-btn">‚öôÔ∏è Navigation Bar</button>
  <div class="accordion-content" id="accordion-preparedness">
  <aside>
    <h2><i class="fas fa-sliders-h"></i> Disaster Controls</h2>

    <label for="disasterPrep">‚öôÔ∏è Preparedness:</label>
    <select id="disasterPrep">
      <option value="">Select</option>
      <option>Training</option>
      <option>Drills</option>
      <option>DM Emergency Response Team</option>
      <option>Evacuation Plans</option>
    </select>

    <label for="disasterMitig">üõ°Ô∏è Mitigation:</label>
    <select id="disasterMitig">
      <option value="">Select</option>
      <option>Infrastructure</option>
      <option>Redundancies</option>
      <option>Emergency Supplies</option>
    </select>

    <label for="disasterType">‚ö†Ô∏è Disaster Type:</label>
    <select id="disasterType" onchange="updateDisasterSubtypes()">
      <option value="">Select</option>
      <option value="Natural">Natural</option>
      <option value="ManMade">Man‚Äëmade</option>
      <option value="Technical">Technical Failure</option>
    </select>

    <div id="subTypeContainer" style="margin-top: 1rem;"></div>

    <div id="incidentActions"></div>

    <div class="action-cards">
      <button class="card-btn" onclick="alert('Registration for Mock Drill coming soon!')">
        <i class="fas fa-person-running"></i>
        <span>Register for Mock Drill</span>
      </button>
      <button class="card-btn" onclick="alert('Public Awareness Campaign launched!')">
        <i class="fas fa-bullhorn"></i>
        <span>Launch Awareness Drive</span>
      </button>
    </div>
  </aside>
  </div>
</div>

  <main>
    <section id="tabs">
      <button onclick="showTab('overview')">üìò Full DM Plan</button>
      <button onclick="showTab('respoTeam')">üö® Emergency Response Team Structure</button>
      <button onclick="showTab('prep')">‚öôÔ∏è Preparedness</button>
      <button onclick="showTab('mitig')">üõ°Ô∏è Mitigation</button>
      <!--<button onclick="showTab('response')">üöí Response</button>-->
      <button onclick="showTab('recovery')">üîß Recovery</button>
      <button onclick="showTab('hrv')">‚ö†Ô∏è Hazard Prone¬†Area (HRV)</button>
    </section>

<!-- Global Image Modal -->
<div id="imageModal" class="image-modal">
  <span class="close" onclick="closeImageModal()">&times;</span>
  <img class="modal-img" id="modalSliderImg" />
</div>


    <section id="tabContent">
      <div id="overview" class="tabPanel">
        <!-- Overview content -->
         <h2>IRIDM Disaster Management Plan Overview</h2>
        <!--<p>Content about DMP...</p>-->
        <p>Disaster Management Plan ‚Äì Indian Railways Institute of Disaster Management (IRIDM), Bengaluru.
          The objective is to ensure the safety of personnel and assets, minimize operational disruption, and provide a coordinated emergency response. Additionally, it aims to enable swift recovery after incidents and build long-term resilience through continuous training.
          <br>This tool integrates IRIDM's real-time Disaster Management Plan (DMP).
          Use the sidebar to read and navigate IRIDM's comprehensive plan or activate response workflows.
        </p>
        <img src="AdminBlock.jpg" alt="Admin Block">
        <!--<h2> Objectives</h2>
        <p>
          <li>Ensure personnel & asset safety</li>
          <li>Minimize operational disruption</li>
          <li>Provide coordinated emergency response</li>
          <li>Enable swift recovery</li>
          <li>Build resilience via training</li></p>-->
      

          <!-- images section -->
           <!-- üîÑ Floating Image Strip with Modal -->
<div class="floating-slider-wrapper">
  <div class="floating-slider" id="floatingSlider">
    <img src="AdminBlock.jpg" alt="Image 1" onclick="openImageModal(this)">

    <img src="static/images/Front Page/admin/image26.png" alt="Image 1" onclick="openImageModal(this)">
    <img src="static/images/Front Page/admin/image33.png" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/openArea/pond.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/openArea/miawalki.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/openArea/tunnel2.jpg" alt="Image 2" onclick="openImageModal(this)">

    <img src="static/images/classroom/lib.jpg" alt="Image 3" onclick="openImageModal(this)">
    <img src="static/images/classroom/Officer.jpg" alt="Image 4" onclick="openImageModal(this)">
    <img src="static/images/fire/classrom1.jpg "alt="Image 5" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.36_011f8fcd.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.36_8129824a.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.37_48311085.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.34_f4717a9d.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/admin/image26.png" alt="Image 1" onclick="openImageModal(this)">
    <img src="static/images/Front Page/admin/image33.png" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/classroom/lib.jpg" alt="Image 3" onclick="openImageModal(this)">
    <img src="static/images/classroom/Officer.jpg" alt="Image 4" onclick="openImageModal(this)">
    <img src="static/images/fire/classrom1.jpg "alt="Image 5" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.36_011f8fcd.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.36_8129824a.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.37_48311085.jpg" alt="Image 2" onclick="openImageModal(this)">
    <img src="static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.34_f4717a9d.jpg" alt="Image 2" onclick="openImageModal(this)">

  </div>
  <button class="slide-btn left" onclick="scrollSlider(-1)">&#10094;</button>
  <button class="slide-btn right" onclick="scrollSlider(1)">&#10095;</button>
</div>

<!-- Modal Viewer for Slider -->
<div id="imageModal" class="image-modal">
  <span class="close" onclick="closeImageModal()">&times;</span>
  <img class="modal-img" id="modalSliderImg">
</div>

      
   
    <div class="container my-5">
  <h2 class="mb-4 text-center">üè´ Campus Infrastructure Overview</h2>

  <div class="row g-4 justify-content-center">

    <!-- Smart Classrooms -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-primary shadow flex-fill" onclick="openInfraGallery('Smart Classrooms', 'Fully air-conditioned digital classrooms with smart boards and seating.', ['static/images/classroom/clas2.jpg', 'static/images/fire/classrom1.jpg','static/images/classroom/corridore.jpg','static/images/Front Page/admin/image26.png'])">
        <div class="card-body">
          <h5 class="card-title text-primary">üéì Smart Classrooms</h5>
          <p class="card-text">‚Ä¢ 5 fully air-conditioned (200 seats)<br>‚Ä¢ 3 under construction<br>‚Ä¢ Final capacity: 320 seats</p>
        </div>
      </div>
    </div>

    <!-- Hostels -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-danger shadow flex-fill" onclick="openInfraGallery('Hostel', 'Tunga & Bhadra blocks with shared rooms and facilities.', ['static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.36_011f8fcd.jpg', 
      'static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.36_8129824a.jpg',
      'static/images/Front Page/hostel/WhatsApp Image 2025-06-25 at 16.46.37_48311085.jpg',
      'static/images/fire/Admin/WhatsApp Image 2025-06-26 at 10.33.35_b78a1e59.jpg'])">
        <div class="card-body">
          <h5 class="card-title text-danger">üè® Hostels</h5>
          <ul class="mb-0">
            <li><strong>Tunga Block:</strong> 40 rooms, 100 beds</li>
            <li><strong>Bhadra Block:</strong> 28 rooms</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Kitchen & Dining -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-dark shadow flex-fill" onclick="openInfraGallery('Kitchen & Dining', 'Catering for 150 meals per shift with seated dining.', [ 'static/images/fire/Admin/WhatsApp Image 2025-06-26 at 10.33.34_357e9ac1.jpg'])">
        <div class="card-body">
          <h5 class="card-title text-dark">üçΩ Kitchen & Dining</h5>
          <ul class="mb-0">
            <li>Kitchen: 150 meals/shift</li>
            <li>Dining: 100 seats</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- E-Library -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-info shadow flex-fill" onclick="openInfraGallery('E-Library & Faculty Chambers', 'Learning & research rooms.', ['static/images/classroom/lib.jpg','static/images/classroom/WhatsApp Image 2025-06-25 at 15.35.28_ccb9524a.jpg'])">
        <div class="card-body">
          <h5 class="card-title text-info">üìö E-Library & Faculty Chambers</h5>
          <p class="card-text">Dedicated spaces for study and academic discussions.</p>
        </div>
      </div>
    </div>

    <!-- Seminar Hall -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-secondary shadow flex-fill" onclick="openInfraGallery('Seminar Hall', 'Room for seminars, guest lectures.', ['static/images/seminar1.jpg'])">
        <div class="card-body">
          <h5 class="card-title text-secondary">üó£Ô∏è Model Room </h5>
          <p class="card-text">Capacity: 40 persons</p>
        </div>
      </div>
    </div>

    <!-- VR Centre -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-warning shadow flex-fill" onclick="openInfraGallery('Virtual Reality Centre', 'VR-based innovation centre under development.', ['static/images/vr1.jpg'])">
        <div class="card-body">
          <h5 class="card-title text-warning">üï∂Ô∏è Virtual Reality Centre</h5>
          <p class="card-text">Under development</p>
        </div>
      </div>
    </div>

    <!-- Auditorium -->
    <div class="col-12 col-sm-6 col-lg-4 d-flex">
      <div class="card border-success shadow flex-fill" onclick="openInfraGallery('Auditorium', 'For events, performances, guest talks.', ['static/images/adminBlock/WhatsApp Image 2025-06-26 at 12.43.50_e073145d.jpg'])">
        <div class="card-body">
          <h5 class="card-title text-success">üé≠ Auditorium</h5>
          <p class="card-text">Seating for 100 people</p>
        </div>
      </div>
    </div>

  </div>
</div>



  </div>
</div>
</div>

  <div id="respoTeam" class="tabPanel" style="display:none">
     <h3>Incident Command System (ICS) led by Director</h3>
         <p> <img src="hirecy.png" alt=" ICS Hierarchy">
          <ul>

              <li>Evacuation plans executed by Evacuation Team</li>
              <li>First Aid & Medical assistance</li>
              <li>Fire-Fighting via extinguishers & State Fire Services</li>
              <li>Search & Rescue to ensure no one is left behind</li>
              <li>Centralized Communication via Designated Spokesperson</li>
            </ul>
            </p>

  <div class="container mt-5">
  <h2 class="mb-4 text-center">üö® Emergency Response Team Structure</h2>
  <div class="table-responsive shadow p-3 bg-white rounded">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark text-center">
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Responsibility</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Director (Sr. Professor)</strong></td>
          <td>Top-level Emergency Controller, Coordinates with External Responders (fire, ambulance, police).</td>
        </tr>
        <tr>
          <td><strong>Joint Directors / Professors</strong></td>
          <td>Internal Section Coordination and Emergency Control Point Leaders.</td>
        </tr>
        <tr>
          <td><strong>Senior Instructors</strong></td>
          <td>Area-Wise Incident Commanders (e.g., Admin Block(Ground Floor, First Floor),Classrooms, Tunga Block,Bhadra Block, Miawalki Forest,Artificial Lake).</td>
        </tr>
        <tr>
          <td><strong>Warden / Librarian</strong></td>
          <td>Hostel Evacuation & Library Lockdown Procedures.</td>
        </tr>
        <tr>
          <td><strong>Clerks & OS</strong></td>
          <td>Maintain Emergency Logs, Contact Rosters, and Support Desks.</td>
        </tr>
        <tr>
          <td><strong>Technical Staff</strong></td>
          <td>Handle 11kV Substation Response, Tunnel Inspection, and Simulation/Demonstration Zone Safety.</td>
        </tr>
        <tr>
          <td><strong>Assistants</strong></td>
          <td>Act as Floor Marshals in Hostels, Mess, and Admin Buildings.</td>
        </tr>
        <tr>
          <td><strong>Works Assistants</strong></td>
          <td>Periodic Check and Maintain Sprinklers, Hydrants, and Fire Alarms.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>

      <div id="prep" class="tabPanel" style="display:none">
        <h2>Disaster Preparedness</h2>
        <div id="prepContent"></div>
        <div id="fireDetails"><div class="info-box">
          <h2> Safety Area Information : </h2>
                  <div class="info-box">
                  <h3><i class="fas fa-fire-extinguisher"></i> Nearest Fire Station</h3>
                  <p><strong>Name:</strong> Nagarbhavi Fire Station <br>
                    <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
                    <strong>Distance : </strong> 14.7 km<br>
                    <strong>‚è∞ETA:</strong> ~32 mins
                  </p>
                  <p><strong>Name:</strong> Ramanagara Fire Station <br>
                    <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
                    <strong>Distance : </strong> 21.4 km<br>
                    <strong>‚è∞ETA:</strong> ~34 mins
                  </p>
                  <button onclick="logFireIncident()">Log Fire Call</button>
                </div>
              
                <div class="info-box">
                  <h3><i class="fas fa-hospital"></i> Nearby Hospitals</h3>
                  <ul>
                    <p><strong>Name:</strong> RajaRajeshwari hospital, Kengeri  <br>
                    <strong>Phone:</strong> <a href='tel:08028437888'>080 2843 7888 </a><br>
                    <strong>Distance : </strong> 4 km<br>
                    <strong>‚è∞ETA:</strong> ~10mins
                  </p>
                  <p><strong>Name:</strong> Sdm Institute Of Ayurveda and Hospital, Kengeri  <br>
                    <strong>Phone:</strong> <a href='tel:09741897124'>09741897124</a><br>
                    <strong>Distance : </strong> 5.6 km<br>
                    <strong>‚è∞ETA:</strong> ~13mins
                  </p>
                    <p><strong>Name:</strong> Gleneagles bgs hospital, Kengeri  <br>
                    <strong>Phone:</strong> <a href='tel:8527306331'> 8527306331 </a><br>
                    <strong>Distance : </strong> 11.2 km<br>
                    <strong>‚è∞ETA:</strong> ~26 mins
                  </p>  


                    <p><strong>Name:</strong> Bangalore Hospital Kengeri <br>
                    <strong>Phone:</strong> <a href='tel:9090804680'> 9090804680 </a><br>
                    <strong>Distance : </strong> 11.4 km<br>
                    <strong>‚è∞ETA:</strong> ~27 mins
                  </p>            </ul>
                </div>
                
                       <div class="info-box">
                  <h3><i class="fas fa-poilceStation"></i> Nearby Police Station</h3>
                  <ul>
                    <p><strong>Name:</strong> Kumbalagudu Police Station <br>
                    <strong>Phone:</strong> <a href='tel:08028437599'>08028437599 </a><br>
                    <strong>Distance : </strong>6.6 km<br>
                    <strong>‚è∞ETA:</strong> ~13 mins
                  </p>
                    <p><strong>Name:</strong> Kengeri Police Station <br>
                    <strong>Phone:</strong> <a href='tel:08022942510'>08022942510 </a><br>
                    <strong>Distance : </strong> 8.7 km<br>
                    <strong>‚è∞ETA:</strong> ~17 mins
                  </p>
                  
            
                </ul>
                </div>
                
                <div class="info-box">
                  <h3><i class="fas fa-animal"></i> Near by Wrangler  </h3>
                  <ul>
                    <p><strong>Snake Catcher</strong><br>
                    <strong>Contact Details:</strong> <a href='tel:9964917651'>9964917651</a><br>
                    <!--<strong>Distance : </strong> 4 km<br>
                    <strong>‚è∞ETA:</strong> ~10mins-->
                  </p>
                 </ul>
                </div>

                <br>
                <h3><i class="fas fa-fire"></i> Fire Safety Equipments at IRIDM :</h3>
                <p><strong>Fire extinguisher ABC type:</strong> 8 , one in each class</p>
                <p><strong>Fire Emergency Exit:</strong> 2 </p>
                <p><strong>Trained Staff:</strong> 8 firefighters, 1 supervisor</p>

                <h3>üìπCCTV Camera details: </h3>
                <p><strong>Hostel block</strong> - 32<br><strong>Admin block</strong> - 27</p>

              </div>
              </div>

              <div class='evacuation-plan'>
        <h3>Ground Floor - Hostel Block</h3>
         <img src="hostelG.jpg" alt="Hostel Ground Floor Plan">
      </div>
      <div class='evacuation-plan'>
        <h3>Ground Floor - Admin Block </h3>
        <img src='adminf.jpg' alt='Placeholder for Admin Ground Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor - Admin Block</h3>
        <img src='adminFirst.jpg' alt='Placeholder for Admin First Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor & Terrace - Hostel </h3>
       
        <img src="hostelF.jpg" alt="Hostel Top Floor Plan">

      </div>
      </div>
    <div id="mitig" class="tabPanel" style="display:none">
  <div class="container px-3">
    <h2 class="mt-4 mb-3 text-center">üõ°Ô∏è Mitigation Measures for IRIDM Campus</h2>
    <p class="mb-4">
      To enhance the resilience of the Indian Railways Institute of Disaster Management (IRIDM) campus against fire and related hazards, the following mitigation strategies are implemented. All instructions are standardized in English for clarity across staff, trainees, and visitors.
       <a href="https://law.resource.org/pub/in/bis/S03/is.3844.1989.html" target="_blank"> All the designs are reffered from this:</a>
    </p>
    
    <div class="accordion" id="mitigationAccordion">

      <!-- 1. Dry Grass Management -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
            üåæ 1. Dry Grass & Vegetation Management
          </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>The IRIDM campus has significant open areas and landscaped zones. To reduce fire risk:
                  Weekly clearing of dry grass, leaves, and vegetation shall be conducted, especially during the summer and dry months.</li>
              <li>Landscaping around vulnerable zones (11kV Substation,Hostel,Admin Building etc.) shall use low-flammability plant species.</li>
              <li>No open burning or accumulation of dry biomass shall be allowed within 10 meters of any building.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 2. Fire Communication System -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
            üì¢ 2. Campus-wide Fire Communication & Alarm System
          </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <h6>Electronic Fire Alarm Network</h6>
            <ul>
              <li>Smoke/heat detectors in Kitchen,Classrooms,Hostel,Model Rooms,Corridors,Faculty Rooms, etc.</li>
              <li>Siren (‚â•110 dB), Strobe lights, Digital Board Alerts upon Activation.</li>
            </ul>
            <h6>Manual Fire Alert System</h6>
            <ul>
              <li>Mechanical Fire Bells/Fire Sirens at key areas and open areas.</li>
              <li>Audible alarms up to 100 meters; operated by trained staff.</li>
            </ul>
            <h6>Portable Communication Devices</h6>
            <ul>
              <li>Megaphones and walkie-talkies in each block for coordination.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 3. Fire Hydrants & Sprinklers -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingThree">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
            üöø 3. Fire Hydrant & Sprinkler System
          </button>
        </h2>
        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Hydrants every 100m covering all zones (Kitchen,Hostel,etc.).</li>
              <li>Connected to pressurized pipeline & reliable water source.</li>
              <li>Sprinklers in High-Risk Areas: kitchens,Corridors,Auditorium,DG Room.</li>
              <li>Hydrant Location Maps at each building entrance.</li>
              <li><a href="IRIDM_Mitigation_Updated.pdf" target="_blank"> Fire Hydrant system and Auto Sprinkler system design and Deployment in IRIDM campus</a></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 4. Fire Extinguishers -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingFour">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
            üßØ 4. Fire Extinguishers
          </button>
        </h2>
        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <table class="table table-bordered table-sm text-center">
              <thead class="table-secondary">
                <tr>
                  <th>Type</th>
                  <th>Location</th>
                  <th>Purpose</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>ABC Dry Powder</td>
                  <td>Classrooms, Corridors,Hostel,model Rooms,Faculty Room,Auditorium,Library,Conference hall</td>
                  <td>General fires</td>
                </tr>
                <tr>
                  <td>CO‚ÇÇ</td>
                  <td>Electrical Panels, Outside Shaft Space door,SNT Room,</td>
                  <td>Electrical fires</td>
                </tr>
                <tr>
                  <td>Foam</td>
                  <td>Kitchens, DG Room</td>
                  <td>Oil/liquid fires</td>
                </tr>
              </tbody>
            </table>
            <ul>
              <li>Placement every 20 meters in key areas.</li>
              <li>Mounted at 1.2m, clearly labeled, monthly checks mandatory.</li>
              <li><a href = "">Present Data Regarding Fire Extinguishers at IRIDM Campus</a></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 5. Electrical Safety -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingFive">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
            ‚ö° 5. Electrical Safety Measures
          </button>
        </h2>
        <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Install MCBs and ELCBs in all buildings.</li>
              <li>Quarterly electrical audit.</li>
              <li>Ban on unauthorized wiring or installations.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 6. Signage & Access Control -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingSix">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix">
            üö™ 6. Signage & Access Control
          </button>
        </h2>
        <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>‚ÄúRESTRICTED AREA‚Äù signs for 11kV Substation,Generators,etc.</li>
              <li>Warning signs for Fire, Electric Shock,Chemical hazards,Potenial site for Animal,Reptile & Insects Encounter.</li>
              <li>Clear Assembly Point Markings in Open Zones.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 7. Evacuation Route -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingSeven">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven">
            üõ£Ô∏è 7. Emergency Evacuation & Route Markings
          </button>
        </h2>
        <div id="collapseSeven" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Glow-in-the-dark tape on walls/floors of all emergency paths.</li>
              <li>Low-level lighting in staircases and exit routes.</li>
              <li>Signs like ‚ÄúEXIT‚Äù must be visible in complete darkness and comply with <a href="https://law.resource.org/pub/in/bis/S02/is.9457.2005.pdf" target="_blank">IS 9457</a>.</li>
              <li>Openings of the doors should be in outward direction.</li>
              <li>Auditorium to include dedicated emergency exit signage.</li>
              <li>Regular inspection of luminous materials for integrity.</li>
            </ul>
          </div>
        </div>
      </div>

    </div> <!-- end accordion -->

  </div>
</div>

     
      <div id="hrv" class="tabPanel" style="display:none;">
  <div class="container px-3 py-4">
    <h2 class="mb-4 text-center"> Hazard, Risk & Vulnerability Assessment ‚Äì IRIDM Campus</h2>

    <!-- Campus Overview -->
    <div class="mb-4">
      <h4>üìç Campus Overview</h4>
      <ul>
        <li><strong>Area Type:</strong> Multi-functional training facility (classrooms, hostels, simulation zones, substation)</li>
        <li><strong>Structures:</strong> Admin Block, Auditorium, Tunga & Bhadra Hostels, Simulation Tunnels, Substation, Forest</li>
        <li><strong>Occupancy:</strong> Students, faculty, staff, visitors (peak loads during drills/events)</li>
        <li><strong>Topology:</strong> Low-lying with slopes, drainage-vulnerable</></li>
      </ul>
    </div>

    <!-- Hazards Identified -->
    <div class="mb-4">
      <h4>Hazards Identified</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-sm">
          <thead class="table-light">
            <tr>
              <th>#</th>
              <th>Hazard</th>
              <th>Locations Affected</th>
              <th>Trigger</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>1</td><td>Fire</td><td>Kitchen,Auditorium,Hostels,Substation,Library</td><td>Overload, gas leak, negligence</td></tr>
            <tr><td>2</td><td>Smoke & Panic</td><td>Auditorium, Library, Tunnels,Miawalki Forest,Artificial Lake site</td><td>Fire, equipment failure,Misinformation</td></tr>
            <tr><td>3</td><td>Flooding / Waterlogging</td><td>artificial Lake, tunnels, low tracks</td><td>Heavy rain, poor drainage</td></tr>
            <tr><td>4</td><td>Trespassing / Intrusion</td><td>Boundaries of IRIDM, Demonstration/Simulations Site</td><td>Gaps,Lack of proper fencing</td></tr>
            <tr><td>5</td><td>Structural Hazards</td><td>Under-construction Buildings, Auditorium</td><td>Falling debris, design gap</td></tr>
            <tr><td>6</td><td>Slips / Falls</td><td>Stairs, damp corridors, Washrooms</td><td>Monsoon, no non-slip mats</td></tr>
            <tr><td>7</td><td>Electrical Shock</td><td>11 kV Substation, Model Rooms,Classrooms</td><td>Wet walls, fault equipment</td></tr>
            <tr><td>8</td><td>Animal Intrusion</td><td>Miawalki Forest, Hostel Buffer zones,Vegetation area.</td><td>snakes, insects , strays</td></tr>
          </tbody>
        </table>
      </div>
    </div>


<!-- Auto-Rotating Hazard Gallery -->
<h3 class="mb-4">‚ö†Ô∏è Hazard Gallery</h3>
<div class="hazard-carousel-wrapper">
  <div class="hazard-carousel" id="hazardCarousel">

    <!-- ELECTRICAL -->
    <div class="hazard-card red" onclick="showHazardGallery(
      'Electrical Hazard',
      'Admin Block, Hostel, 11kV Sub Station',
      ['static/images/elcb.jpg','static/images/Hazards/Electrical Hazards/WhatsApp Image 2025-06-25 at 16.46.35_322108d2.jpg','static/images/Hazards/Electrical Hazards/WhatsApp Image 2025-06-25 at 16.46.36_2059ab83.jpg']
    )">
      <h4>Electrical Hazard</h4>
      <p>Admin Block, Hostel, Sub Station</p>
    </div>

    <!-- FLOOD -->
    <div class="hazard-card gray" onclick="showHazardGallery(
      'Flood Prone Area',
      'Drainage failure, tunnels, low-lying zones',
      ['static/images/Hazards/Flood Prone Areas/WhatsApp Image 2025-06-25 at 16.46.34_3c83e6c1.jpg']
    )">
      <h4>Flood Prone Area</h4>
      <p>Heavy rain & drainage failure zones</p>
    </div>

    <!-- ANIMAL -->
    <div class="hazard-card yellow" onclick="showHazardGallery(
      'Animal Intrusion',
      'Hostel rear, Forest edge',
      ['static/images/Hazards/Animal Intrusion/WhatsApp Image 2025-06-25 at 16.46.35_a5fa03cc.jpg']
    )">
      <h4>Animal Intrusion</h4>
      <p>Snakes, insects, strays</p>
    </div>

    <!-- CONSTRUCTION -->
    <div class="hazard-card blue" onclick="showHazardGallery(
      'Construction Hazard',
      'Open construction zones',
      ['static/images/Hazards/construction hazard/WhatsApp Image 2025-06-25 at 16.46.31_8aec6729.jpg','static/images/Hazards/construction hazard/WhatsApp Image 2025-06-25 at 16.46.32_7c3161fe.jpg','static/images/Hazards/construction hazard/WhatsApp Image 2025-06-25 at 16.46.33_2cdc99cd.jpg','static/images/Hazards/construction hazard/WhatsApp Image 2025-06-25 at 16.46.33_e290a02d.jpg']
    )">
      <h4>Construction Hazard</h4>
      <p>Falling material, restricted entry</p>
    </div>

    <!-- STAMPED -->
    <div class="hazard-card green" onclick="showHazardGallery(
      'Stamped Area',
      'Auditorium, Entry Gates',
      ['static/images/openArea/tunnel2.jpg','static/images/openArea/forest2.jpg']
    )">
      <h4>Stamped Prone Area</h4>
      <p>Risk during crowd movement</p>
    </div>

     <!-- Fire -->
    <div class="hazard-card red" onclick="showHazardGallery(
      'Fire Hazard',
      'Kitchen, Admin Block, Hostel, 11kV Sub Station',
      ['static/images/Hazards/fire hazard/WhatsApp Image 2025-06-25 at 16.46.16_e94d5388.jpg',
      'static/images/fire/fire1.jpg','static/images/fire/fire2.jpg',
      'static/images/Hazards/fire hazard/WhatsApp Image 2025-06-25 at 16.46.24_6eef5647.jpg',
      'static/images/Hazards/fire hazard/WhatsApp Image 2025-06-25 at 16.46.25_e806543c.jpg',
      'static/images/Hazards/fire hazard/WhatsApp Image 2025-06-25 at 16.46.32_de900c17.jpg',]
    )">
      <h4>Fire Prone Area</h4>
      <p>Kitchen, Open Area, Miawalki Forest, Admin Block, Hostel, Sub Station</p>
    </div>

  </div>
</div>

<!-- MODAL for Multiple Images -->
<div id="hazardModal" class="hazard-modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
    <div id="modalImages" class="modal-gallery"></div>
  </div>
</div>

<!--   ADDED NEW   -->

<div class="accordion" id="hazardZoneAccordion">

  <!-- Admin Block Hazard Table -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="adminHazardHeading">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#adminHazard" aria-expanded="true" aria-controls="adminHazard">
        üè¢ Admin Block ‚Äì Hazard Zones
      </button>
    </h2>
    <div id="adminHazard" class="accordion-collapse collapse show" aria-labelledby="adminHazardHeading" data-bs-parent="#hazardZoneAccordion">
      <div class="accordion-body">
        <table class="table table-bordered table-striped">
          <thead class="table-dark">
            <tr>
              <th>Room</th>
              <th>Hazard Type</th>
              <th>Symbol</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Store Room</td><td>Flammable</td><td>üî•</td></tr>
            <tr><td>Steno Room</td><td>Electrical</td><td>‚ö°</td></tr>
            <tr><td>Director Chamber</td><td>Electrical</td><td>‚ö°</td></tr>
            <tr><td>Library</td><td>Paper Load (Fire)</td><td>üî•</td></tr>
            <tr><td>Auditorium Hall</td><td>Curtain/Equipment</td><td>üî•</td></tr>
            <tr><td>Conference Hall</td><td>Electrical + Fire</td><td>‚ö°üî•</td></tr>
            <tr><td>Proposed Areas</td><td>Electrical / Unknown</td><td>‚ö° or ‚ò£</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Hostel Hazard Table -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="hostelHazardHeading">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#hostelHazard" aria-expanded="false" aria-controls="hostelHazard">
        üè† Hostel Block ‚Äì Hazard Zones
      </button>
    </h2>
    <div id="hostelHazard" class="accordion-collapse collapse" aria-labelledby="hostelHazardHeading" data-bs-parent="#hazardZoneAccordion">
      <div class="accordion-body">
        <table class="table table-bordered table-striped">
          <thead class="table-dark">
            <tr>
              <th>Room/Area</th>
              <th>Hazard Type</th>
              <th>Symbol</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Washing Room</td><td>Heat / Humidity</td><td>üå°</td></tr>
            <tr><td>Warden Room</td><td>Electrical</td><td>‚ö°</td></tr>
            <tr><td>Toilets</td><td>Heat Sensor Zone</td><td>üå°</td></tr>
            <tr><td>VIP Room</td><td>Electrical + Fire</td><td>‚ö°üî•</td></tr>
            <tr><td>Dining Room</td><td>Fire Risk (Furniture/Appliances)</td><td>üî•</td></tr>
            <tr><td>Utility Closet (Unlabeled)</td><td>Electrical / Unknown</td><td>‚ö° / ‚ò£</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
<br>



    <!-- Risk Level Summary -->
    <div class="mb-4">
      <h4>üìä Risk Level Summary</h4>
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead class="table-light">
            <tr>
              <th>Area</th>
              <th>Hazard Type</th>
              <th>Risk Level</th>
              <th>Why</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Auditorium</td>
              <td>Fire, Panic, Smoke</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Overcrowding, only 1 exit point, no sprinklers</td>
            </tr>
            <tr>
              <td>Hostels</td>
              <td>Fire, Electrical, Trespassing</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Overcrowding,Night Occupancy, Open Pathways</td>
            </tr>
            <tr>
              <td>11 kV Sub-Station</td>
              <td>Fire, Electric shock, Waterlogging</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Vital asset, exposed area</td>
            </tr>
            <tr>
              <td>Simulation Tunnel</td>
              <td>Smoke, Collapse, Waterlogging</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Enclosed layout, deep structure</td>
            </tr>
            <tr>
              <td>Forest/Dry Vegetation</td>
              <td>Minor Fires, Animal Intrusion</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Seasonal hazard</td>
            </tr>
            <tr>
              <td>Entry/Exit Zones</td>
              <td>Trespassing, Panic Evacuation</td>
              <td><span class="badge bg-info text-dark">üü° Low‚ÄìMedium</span></td>
              <td>Needs stronger access control</td>
            </tr>
            <tr>
              <td>Under Construction Areas</td>
              <td>Collapse, Entry by mistake</td>
              <td><span class="badge bg-warning text-dark">üü† Medium</span></td>
              <td>Unsupervised temporary structures</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Vulnerability Index -->
    <div class="mb-4">
      <h4>üßç Vulnerability Index</h4>
      <table class="table table-bordered table-sm">
        <thead class="table-light">
          <tr>
            <th>Population Group</th>
            <th>Exposure</th>
            <th>Vulnerability</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Trainees (Hostels)</td><td>High (24/7)</td><td>High</td></tr>
          <tr><td>Staff/Trainees (Admin)</td><td>High</td><td>High</td></tr>
          <tr><td>Trainers (Demonstration/Simulation)</td><td>Low</td><td>Low</td></tr>
          <tr><td>Visitors (Auditorium)</td><td>Periodic</td><td>High during events</td></tr>
          <tr><td>Workers (Construction)</td><td>Limited area</td><td>Medium</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Trespassing & Security -->
    <div class="mb-3">
      <h4>üö∑ Trespassing & Security Concerns</h4>
      <ul>
        <li><strong>Access Points:</strong> Open Boundaries Connecting Village and Campus; </li>
        <li><strong>Perimeter Issues:</strong> Blind spots, limited CCTV, no motion detection</li>
        <li><strong>Risks:</strong>
          <ul>
            <li>Unauthorized access to simulation zones</li>
            <li>Hostel or forest intrusion after hours</li>
          </ul>
        </li>
      </ul>
    </div>

  </div>
</div>



      <div id="recovery" class="tabPanel" style="display:none">
        <!-- Recovery content -->
         <h3>Recovery and Rehabilitation </h3>
         <P><li>Damage assessment and quick repairs</li>
            <li>Shelter & care for affected individuals</li>
            <li>Counseling and psychological support</li>
            <li>Full restoration of services (power, water, IT)</li>
            <li>Post-disaster review and plan updates</li>
            <li>Government compensation facilitation (if applicable)</li></P>
      
      <button onclick="toggleInfoBox('damageTab')">üìã Damage Assessment</button>

<div id="damageTab" class="tabPanel" style="display: none;">
  <h3>Damage Assessment Details</h3>
  <ul>
    <li>Structural Damage Evaluation</li>
    <li>IT Infrastructure & Equipment Loss</li>
    <li>Casualty & Injury Reports</li>
    <li>Estimated Recovery Cost</li>
  </ul>

  <h3>üß± Structural Damage Evaluation</h3>
  <div class="form-block">
    <label>Location: <input type="text" id="structLoc"></label>
    <label>Damage Level: <input type="text" id="structLevel"></label>
    <label>Remarks: <textarea id="structRemarks"></textarea></label>
    <button onclick="saveStructDamage()">Save</button>
    <button onclick="viewHistory('struct')">üìÑ View History</button>
    <button onclick="downloadCSV('struct')">‚¨á Download CSV</button>
    <button onclick="clearStructForm()" class="clear-btn">üßπ Clear</button>

  </div>
  <div id="structHistory"></div>

  <hr>

  <h3>üíª IT Infrastructure & Equipment Loss</h3>
  <div class="form-block">
    <label>System/Area: <input type="text" id="itArea"></label>
    <label>Type of Equipment: <input type="text" id="itType"></label>
    <label>Remarks: <textarea id="itRemarks"></textarea></label>
    <button onclick="saveITLoss()">Save</button>
    <button onclick="viewHistory('it')">üìÑ View History</button>
    <button onclick="downloadCSV('it')">‚¨á Download CSV</button>
    <button onclick="clearITForm()" class="clear-btn">üßπ Clear</button>

  </div>
  <div id="itHistory"></div>

  <hr>

  <h3>ü§ï Casualty and Injury Reports</h3>
  <div class="form-block">
    <label>Person Name: <input type="text" id="casualtyName"></label>
    <label>Injury Severity: <input type="text" id="casualtySeverity"></label>
    <label>Details: <textarea id="casualtyNote"></textarea></label>
    <button onclick="saveCasualtyDamage()">Save</button>
    <button onclick="viewHistory('casual')">üìÑ View History</button>
    <button onclick="downloadCSV('casual')">‚¨á Download CSV</button>
    <button onclick="clearCasualtyForm()" class="clear-btn">üßπ Clear</button>

  </div>
  <div id="casualtyHistory"></div>

  <hr>

  <h3>üíπ Estimated Recovery Cost</h3>
  <div class="form-block">
    <label>Estimated Cost (INR): <input type="number" id="recoveryCost"></label>
    <label>Affected Area: <input type="text" id="recoveryArea"></label>
    <label>Remarks: <textarea id="recoveryRemarks"></textarea></label>
    <button onclick="saveRecoveryLoss()">Save</button>
    <button onclick="viewHistory('re_cost')">üìÑ View History</button>
    <button onclick="downloadCSV('re_cost')">‚¨á Download CSV</button>
    <button onclick="clearRecoveryForm()" class="clear-btn">üßπ Clear</button>

  </div>
  <div id="recoveryHistory"></div>

  <br>
  <button onclick="downloadAllCSVs()">‚¨á Download All Damage CSVs</button>
  <button onclick="clearAllDamageData()" class="danger">üßπ Clear All Damage Logs</button>
</div>
   
      
      </div>
    </section>

    <section id="map">
      <h2>Live Campus </h2>
      <div id="mapid" style="height: 400px;"><div style="position:absolute; top: 120px; right: 20px; z-index: 999;">
      <div id="mapCompass" style="position:absolute; top:100px; right:25px; z-index:1000;">
  <img src="campass.png" id="compassIcon" style="width:60px; transform: rotate(0deg);">
</div>
</div>
</div>
    </section>
  </main>

  <script>
    function updateDisasterSubtypes() {
      const type = document.getElementById("disasterType").value;
      const subTypeContainer = document.getElementById("subTypeContainer");
      subTypeContainer.innerHTML = "";

      if (type === "Natural") {
        subTypeContainer.innerHTML = `
          <label for='subType'><i class='fas fa-mountain'></i> Select Subtype:</label>
          <select id='subType' onchange='handleSubtype(this.value)'>
            <option value=''>Select</option>
            <option>Flood</option>
            <option>Earthquake</option>
            <option>Cyclone</option>
          </select>`;
      } else if (type === "ManMade") {
        subTypeContainer.innerHTML = `
          <label for='subType'><i class='fas fa-industry'></i> Select Subtype:</label>
          <select id='subType' onchange='handleSubtype(this.value)'>
            <option value=''>Select</option>
            <option>Fire</option>
            <option>Train Accident</option>
            <option>Infrastructure Collapse</option>
            <option>Machinery Breakdown</option>
            <option>Medical Emergency</option>
          </select>`;
      } else if (type === "Technical") {
        subTypeContainer.innerHTML = `
          <label for='subType'><i class='fas fa-microchip'></i> Select Subtype:</label>
          <select id='subType' onchange='handleSubtype(this.value)'>
            <option value=''>Select</option>
            <option>Power Failure</option>
            <option>IT System Breakdown</option>
            <option>Transportation Accident</option>
          </select>`;
      }
    }

    function handleSubtype(value) {
      const details = document.getElementById("fireDetails");
      if (value === "Fire") {
        showTab("prep");
        details.innerHTML = `
          <div class="info-box">
            <h3><i class="fas fa-fire-extinguisher"></i> Nearest Fire Station</h3>
            <p><strong>Name:</strong> Nagarbhavi Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 14.7 km<br>
               <strong>‚è∞ETA:</strong> ~32 mins
            </p>
             <p><strong>Name:</strong> Ramanagara Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 21.4 km<br>
               <strong>‚è∞ETA:</strong> ~34 mins
            </p>
            <button onclick="logFireIncident()">Log Fire Call</button>
          </div>
          <div class="info-box">
            <h3><i class="fas fa-hospital"></i> Nearby Hospitals</h3>
            <ul>
              <p><strong>Name:</strong> RajaRajeshwari hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:08028437888'>080 2843 7888 </a><br>
               <strong>Distance : </strong> 4 km<br>
               <strong>‚è∞ETA:</strong> ~10mins
            </p>
             <p><strong>Name:</strong> Sdm Institute Of Ayurveda and Hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:09741897124'>09741897124</a><br>
               <strong>Distance : </strong> 5.6 km<br>
               <strong>‚è∞ETA:</strong> ~13mins
            </p>
              <p><strong>Name:</strong> Gleneagles bgs hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:8527306331'> 8527306331 </a><br>
               <strong>Distance : </strong> 11.2 km<br>
               <strong>‚è∞ETA:</strong> ~26 mins
            </p>  


              <p><strong>Name:</strong> Bangalore Hospital Kengeri <br>
               <strong>Phone:</strong> <a href='tel:9090804680'> 9090804680 </a><br>
               <strong>Distance : </strong> 11.4 km<br>
               <strong>‚è∞ETA:</strong> ~27 mins
            </p>            </ul>
          </div>
          <div class="info-box">
            <h3><i class="fas fa-poilceStation"></i> Nearby Police Station</h3>
            <ul>
              <p><strong>Name:</strong> Kumbalagudu Police Station <br>
               <strong>Phone:</strong> <a href='tel:08028437599'>08028437599 </a><br>
               <strong>Distance : </strong>6.6 km<br>
               <strong>‚è∞ETA:</strong> ~13 mins
            </p>
              <p><strong>Name:</strong> Kengeri Police Station <br>
               <strong>Phone:</strong> <a href='tel:08022942510'>08022942510 </a><br>
               <strong>Distance : </strong> 8.7 km<br>
               <strong>‚è∞ETA:</strong> ~17 mins
            </p>
            
      
           </ul>
          </div>
          
          <div class="info-box">
  <h3><i class="fas fa-clipboard-list"></i> Log Response Details</h3>

  <div class="form-group">
    <label for="callTime">Call Time:</label>
    <input type="time" id="callTime">
  </div>

  <div class="form-group">
    <label for="arrivalTime">Arrival Time:</label>
    <input type="time" id="arrivalTime">
  </div>

  <div class="form-group">
    <label for="resolveTime">Resolution Time:</label>
    <input type="time" id="resolveTime">
  </div>

  <div class="form-group">
    <label for="ambulanceInfo">Ambulance Details:</label>
    <input type="text" id="ambulanceInfo" placeholder="Ambulance Reg./Driver">
  </div>

  <div class="form-group">
    <label for="patientNote">Patient Condition:</label>
    <textarea id="patientNote" rows="3"></textarea>
  </div>

  <button onclick="submitIncidentDetails()">Submit Log</button>
</div>
`;
      } else {
        details.innerHTML = "";
      }
    }

    function logFireIncident() {
      alert("Fire call has been logged successfully.");
    }

   
    function submitIncidentDetails() {
  const callTime = document.getElementById('callTime').value;
  const arrival = document.getElementById('arrivalTime').value;
  const resolve = document.getElementById('resolveTime').value;
  const ambulance = document.getElementById('ambulanceInfo').value;
  const patient = document.getElementById('patientNote').value;

  if (!callTime || !arrival || !resolve || !ambulance || !patient) {
    alert('Please fill in all fields.');
    return;
  }

  fetch('http://localhost:5000/api/log', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      status: 'Fire Incident',
      location: 'IRIDM Campus',
      notes: `Call: ${callTime}, Arrival: ${arrival}, Resolve: ${resolve}, Ambulance: ${ambulance}, Patient: ${patient}`
    })
  })
  .then(response => response.json())
  .then(data => {
    alert('Incident details submitted and logged successfully.');
  })
  .catch(error => {
    console.error('Error logging incident:', error);
    alert('Failed to submit log.');
  });

      alert(`Fire Incident Logged:\nCall: ${callTime}\nArrival: ${arrival}\nResolved: ${resolve}\nAmbulance: ${ambulance}\nPatient: ${patient}`);
    }
  </script>

  <script>
function handleSubtype(value) {
  const details = document.getElementById("fireDetails");
  if (value === "Fire") {
    showTab("prep");
    details.innerHTML = `
      <div class="info-box">
        <h3><i class="fas fa-fire-extinguisher"></i> Nearest Fire Station</h3>
        <p><strong>Name:</strong> Nagarbhavi Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 14.7 km<br>
               <strong>‚è∞ETA:</strong> ~32 mins
            </p>
             <p><strong>Name:</strong> Ramanagara Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 21.4 km<br>
               <strong>‚è∞ETA:</strong> ~34 mins
            </p>
        <button onclick="logFireIncident()">Log Fire Call</button>
      </div>
      <div class="info-box">
        <h3><i class="fas fa-hospital"></i> Nearby Hospitals</h3>
        <ul>
              <p><strong>Name:</strong> RajaRajeshwari hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:08028437888'>080 2843 7888 </a><br>
               <strong>Distance : </strong> 4 km<br>
               <strong>‚è∞ETA:</strong> ~10mins
            </p>
              <p><strong>Name:</strong> Gleneagles bgs hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:8527306331'> 8527306331 </a><br>
               <strong>Distance : </strong> 11.2 km<br>
               <strong>‚è∞ETA:</strong> ~26 mins
            </p>  


              <p><strong>Name:</strong> Bangalore Hospital Kengeri <br>
               <strong>Phone:</strong> <a href='tel:9090804680'> 9090804680 </a><br>
               <strong>Distance : </strong> 11.4 km<br>
               <strong>‚è∞ETA:</strong> ~27 mins
            </p>            </ul>
      </div>
      <div class="info-box">
  <h3><i class="fas fa-clipboard-list"></i> Log Response Details</h3>

  <label for="callTime">Reporting Call Time:</label>
  <input type="time" id="callTime"><br>

  <label for="arrivalTime">Arrival Time:</label>
  <input type="time" id="arrivalTime"><br>

  <label for="resolveTime">Resolution Time:</label>
  <input type="time" id="resolveTime"><br>

  <label for="fireCause">Cause of Fire:</label>
  <textarea id="fireCause" rows="3"></textarea><br>

  <label for="staffreached">Number of Staff reached:</label>
  <input type="text" id="staffreached"><br>

  <label for="ambulanceInfo">Ambulance Details:</label>
  <input type="text" id="ambulanceInfo" placeholder="Ambulance Reg./Driver"><br>

  <label for="patientNote">Patient Condition:</label>
  <textarea id="patientNote" rows="3"></textarea><br>

  <button onclick="submitIncidentDetails()">Submit Log</button>
</div>

    `;
  } else if (value === "Evacuation Plans") {
    showTab("prep");
    const evacSection = document.getElementById("prepContent");
    const responseTab = document.getElementById("response");
    const evacHTML = `
      <div class='evacuation-plan'>
        <h3>Ground Floor - Hostel Block</h3>
         <img src="hostel_groundFloor - Copy.jpg" alt="Hostel Ground Floor Plan">
      </div>
      <div class='evacuation-plan'>
        <h3>Ground Floor - Admin Block </h3>
        <img src='adminBlockGround.jpg' alt='Placeholder for Admin Ground Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor - Admin Block</h3>
        <img src='admionFirest.jpg' alt='Placeholder for Admin First Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor & Terrace - Hostel</h3>
       
        <img src="hostelFirest.jpg" alt="Hostel Top Floor Plan">

      </div>
    `;
    evacSection.innerHTML = evacHTML;
    responseTab.innerHTML += `<h3>üß≠ Evacuation Reference Plan</h3>${evacHTML}`;
  } else {
    details.innerHTML = "";
  }
}
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const responseTab = document.getElementById("response");
  fetch("http://localhost:5000/api/logs")
    .then(res => res.json())
    .then(data => {
      if (data.length) {
        let table = `<table class='log-table'><thead><tr><th>Timestamp</th><th>Status</th><th>Location</th><th>Details</th></tr></thead><tbody>`;
        data.forEach(row => {
          table += `<tr><td>${row.timestamp}</td><td>${row.status}</td><td>${row.location}</td><td>${row.notes}</td></tr>`;
        });
        table += `</tbody></table>`;
        responseTab.innerHTML += `<h3>üö® Incident Response Logs</h3>${table}`;
      }
    })
    .catch(err => console.error("Error fetching logs:", err));
});
</script>

<!--------------------------------------- CHAT bOT ------------------------------------------>
<!-- Floating Chatbot Icon -->
<div id="chatbotIcon" onclick="toggleChatPopup()">ü§ñ</div>

<!-- Chatbot Popup Box -->
<div id="chatPopup">
  <div id="chatHeader">
    <span>IRIDM Assistant</span>
    <span style="cursor: pointer;" onclick="toggleChatPopup()">√ó</span>
  </div>
  <div id="chatBody">
    <div id="chatMessages"></div>
    <div id="chatInputArea">
      <input type="text" id="chatInput" placeholder="Ask something..." />
      <button onclick="askChatbot()">Send</button>
    </div>
  </div>
</div>

<!-- Modal for Infra Gallery -->
<div id="infraModal" class="hazard-modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeInfraModal()">&times;</span>
    <h3 id="infraTitle"></h3>
    <p id="infraDesc"></p>
    <div id="infraImages" class="modal-gallery"></div>
  </div>
</div>


<!--footer-->
<!-- Footer -->
<footer class="bg-dark text-light pt-4 pb-3 mt-5">
  <div class="container">
    <div class="row">

      <!-- Organization Info -->
      <div class="col-md-4 mb-3">
        <h5 class="text-uppercase fw-bold">IRIDM Bangalore</h5>
        <p>Integrated Risk and Disaster Management <br>Bengaluru, India</p>
        <h5>Meet the Team : </h5>
          <li><a href="https://www.linkedin.com/in/shruti-verma-437643291" class="text-decoration-none text-light">Shruti Verma</a></li>
          <li><a href="https://www.linkedin.com/in/sayantan-mandal-b5393428a/" class="text-decoration-none text-light">Sayantan Mandal</a></li>
          <li><a href="https://www.linkedin.com/in/shivam-kumar-6515b0301/t" class="text-decoration-none text-light">Shivam Kumar</a></li>
          <li><a href="https://www.linkedin.com/in/rishav-pal-026488338/" class="text-decoration-none text-light">Rishav Pal</a></li>
      </div>

      <!-- Useful Links -->
      <div class="col-md-4 mb-3">
        <h5 class="text-uppercase">Quick Links</h5>
        <ul class="list-unstyled">
          <li><a href="/privacy-policy" class="text-decoration-none text-light">Privacy Policy</a></li>
          <li><a href="/terms-of-service" class="text-decoration-none text-light">Terms & Conditions</a></li>
          <li><a href="/contact" class="text-decoration-none text-light">Contact Us</a></li>
          <li><a href="/about" class="text-decoration-none text-light">About Us</a></li>
        </ul>
      </div>

      <!-- Contact & Social -->
      <div class="col-md-4 mb-3">
        <h5 class="text-uppercase">Connect with Us</h5>
        <p>Email: <a href="mailto:iridm.bangalore@gmail.com" class="text-light">iridm.bangalore@gmail.com</a></p>
        <p>Email: <a href="mailto:shruti.verma_btech23@gsv.ac.in" class="text-light">shruti.verma_btech23@gsv.ac.in</a></p>
        <!-- <p>Phone: +91-XXXXXXXXXX</p> -->
        <div>
          <a href="#" class="text-light me-3"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="text-light me-3"><i class="fab fa-twitter"></i></a>
          <a href="https://www.linkedin.com/company/gati-shakti-vishwavidyalaya/posts/?feedView=all" class="text-light me-3"><i class="fab fa-linkedin-in"></i></a>
          <a href="https://github.com/ShrutiVerma3008" class="text-light"><i class="fab fa-github"></i></a>
        </div>
      </div>

    </div>

    <hr class="border-light">

    <!-- Bottom Bar -->
    <div class="row text-center">
      <div class="col-12">
        <p class="mb-0">&copy; 2025 <strong>IRIDM Bangalore</strong>. All rights reserved.</p>
        <small>Designed & Developed by Intern - Gati Shakti Vishwavidyalaya  | Version 1.0</small>
      </div>
    </div>
  </div>
</footer>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script src="app.js"></script>
</body>
</html>
