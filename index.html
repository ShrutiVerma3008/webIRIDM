<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IRIDM DM Assistant</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="path/to/your/chatbot-proxy.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
  <header>
    <h1>IRIDM Disaster‚ÄëManagement Assistant üöí</h1>
    <p>Plan and respond to emergencies effectively across the IRIDM campus.</p>
     <img src="IRIDM LOGO 1.png" alt="IRIDM Logo" class="logo">
  </header>
  <!--<div class="header">
  <h1>IRIDM Disaster Management System</h1>
  <img src="IRIDM LOGO 1.png" alt="IRIDM Logo" class="logo">
</div> -->

<div class="accordion-section">
  <button class="accordion-btn">‚öôÔ∏è Navigation Bar</button>
  <div class="accordion-content" id="accordion-preparedness">
  <aside>
    <h2><i class="fas fa-sliders-h"></i> Disaster Controls</h2>

    <label for="disasterPrep">‚öôÔ∏è Preparedness:</label>
    <select id="disasterPrep">
      <option value="">Select</option>
      <option>Training</option>
      <option>Drills</option>
      <option>DM Emergency Response Team</option>
      <option>Evacuation Plans</option>
    </select>

    <label for="disasterMitig">üõ°Ô∏è Mitigation:</label>
    <select id="disasterMitig">
      <option value="">Select</option>
      <option>Infrastructure</option>
      <option>Redundancies</option>
      <option>Emergency Supplies</option>
    </select>

    <label for="disasterType">‚ö†Ô∏è Disaster Type:</label>
    <select id="disasterType" onchange="updateDisasterSubtypes()">
      <option value="">Select</option>
      <option value="Natural">Natural</option>
      <option value="ManMade">Man‚Äëmade</option>
      <option value="Technical">Technical Failure</option>
    </select>

    <div id="subTypeContainer" style="margin-top: 1rem;"></div>

    <div id="incidentActions"></div>

    <div class="action-cards">
      <button class="card-btn" onclick="alert('Registration for Mock Drill coming soon!')">
        <i class="fas fa-person-running"></i>
        <span>Register for Mock Drill</span>
      </button>
      <button class="card-btn" onclick="alert('Public Awareness Campaign launched!')">
        <i class="fas fa-bullhorn"></i>
        <span>Launch Awareness Drive</span>
      </button>
    </div>
  </aside>
  </div>
</div>

  <main>
    <section id="tabs">
      <button onclick="showTab('overview')">üìò Full DM Plan</button>
      <button onclick="showTab('respoTeam')">üö® Emergency Response Team Structure</button>
      <button onclick="showTab('prep')">‚öôÔ∏è Preparedness</button>
      <button onclick="showTab('mitig')">üõ°Ô∏è Mitigation</button>
      <button onclick="showTab('response')">üöí Response</button>
      <button onclick="showTab('recovery')">üîß Recovery</button>
      <button onclick="showTab('hrv')">‚ö†Ô∏è Hazard Prone¬†Area (HRV)</button>
    </section>

    <section id="tabContent">
      <div id="overview" class="tabPanel">
        <!-- Overview content -->
         <h2>IRIDM Disaster Management Plan Overview</h2>
        <!--<p>Content about DMP...</p>-->
        <p>Disaster Management Plan ‚Äì Indian Railways Institute of Disaster Management (IRIDM), Bengaluru.
          The objective is to ensure the safety of personnel and assets, minimize operational disruption, and provide a coordinated emergency response. Additionally, it aims to enable swift recovery after incidents and build long-term resilience through continuous training.
          <br>This tool integrates IRIDM's real-time Disaster Management Plan (DMP).
          Use the sidebar to read and navigate IRIDM's comprehensive plan or activate response workflows.
        </p>
        <img src="AdminBlock.jpg" alt="Admin Block">
        <!--<h2> Objectives</h2>
        <p>
          <li>Ensure personnel & asset safety</li>
          <li>Minimize operational disruption</li>
          <li>Provide coordinated emergency response</li>
          <li>Enable swift recovery</li>
          <li>Build resilience via training</li></p>-->
      
      <!-- üìç Campus Infrastructure Overview -->
<div class="container my-5">
  <h2 class="mb-4 text-center">üè´ Campus Infrastructure Overview</h2>

  <!--<div class="row row-cols-1 row-cols-md-2 g-4">-->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">


    <!-- Smart Classrooms -->
    <div class="col">
      <div class="card border-primary shadow">
        <div class="card-body">
          <h5 class="card-title text-primary">üéì Smart Classrooms</h5>
          <p class="card-text">
            ‚Ä¢ 5 fully air-conditioned (200 seats)<br>
            ‚Ä¢ 3 more under construction<br>
            ‚Ä¢ Final planned capacity: 320 seats
          </p>
        </div>
      </div>
    </div>

    <!-- Hostels -->
    <div class="col">
      <div class="card border-danger shadow">
        <div class="card-body">
          <h5 class="card-title text-danger">üè® Hostels</h5>
          <ul class="mb-0">
            <li><strong>Tunga Block:</strong> 40 rooms, 100 beds (twin/triple sharing)</li>
            <li><strong>Bhadra Block:</strong> 28 rooms (double occupancy)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Kitchen -->
    <div class="col">
      <div class="card border-dark shadow">
        <div class="card-body">
          <h5 class="card-title text-dark">üçΩ Kitchen & Dining</h5>
          <ul class="mb-0">
            <li>Kitchen capacity: 150 meals/shift</li>
            <li>Dining hall: Seats 100 people</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Library -->
    <div class="col">
      <div class="card border-info shadow">
        <div class="card-body">
          <h5 class="card-title text-info">üìö E-Library & Faculty Chambers</h5>
          <p class="card-text">Dedicated spaces for learning and research</p>
        </div>
      </div>
    </div>

    <!-- Seminar Room -->
    <div class="col">
      <div class="card border-secondary shadow">
        <div class="card-body">
          <h5 class="card-title text-secondary">üó£Ô∏è Model Room & Seminar Hall</h5>
          <p class="card-text">Capacity: 40 persons</p>
        </div>
      </div>
    </div>

      <!-- VR Center -->
    <div class="col">
      <div class="card border-warning shadow">
        <div class="card-body">
          <h5 class="card-title text-warning">üï∂Ô∏è Virtual Reality Centre</h5>
          <p class="card-text">Under development</p>
        </div>
      </div>
    </div>

    <!-- Auditorium -->
    <div class="col">
      <div class="card border-success shadow">
        <div class="card-body">
          <h5 class="card-title text-success">üé≠ Auditorium</h5>
          <p class="card-text">Seating for 100 people</p>
        </div>
      </div>
    </div>

  

    

   

  </div>
</div>
</div>

  <div id="respoTeam" class="tabPanel" style="display:none">
  <div class="container mt-5">
  <h2 class="mb-4 text-center">üö® Emergency Response Team Structure</h2>
  <div class="table-responsive shadow p-3 bg-white rounded">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark text-center">
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Responsibility</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Director (Sr. Professor)</strong></td>
          <td>Top-level emergency controller, coordinates with external responders (fire, ambulance, police).</td>
        </tr>
        <tr>
          <td><strong>Joint Directors / Professors</strong></td>
          <td>Internal section coordination and emergency control point leaders.</td>
        </tr>
        <tr>
          <td><strong>Senior Instructors</strong></td>
          <td>Area-wise incident commanders (e.g., Classrooms, Hostels, Forest Zones).</td>
        </tr>
        <tr>
          <td><strong>Warden / Librarian</strong></td>
          <td>Hostel evacuation & library lockdown procedures.</td>
        </tr>
        <tr>
          <td><strong>Clerks & OS</strong></td>
          <td>Maintain emergency logs, contact rosters, and support desks.</td>
        </tr>
        <tr>
          <td><strong>Technical Staff (Tech-II)</strong></td>
          <td>Handle substation response, tunnel inspection, and simulation zone safety.</td>
        </tr>
        <tr>
          <td><strong>Assistants</strong></td>
          <td>Act as floor marshals in hostels, mess, and admin buildings.</td>
        </tr>
        <tr>
          <td><strong>Works Assistants</strong></td>
          <td>Check and maintain sprinklers, hydrants, and fire alarms.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>

      <div id="prep" class="tabPanel" style="display:none">
        <h2>Disaster Preparedness</h2>
        <div id="prepContent"></div>
        <div id="fireDetails"><div class="info-box">
          <h2> Safety Area Information : </h2>
                  <div class="info-box">
                  <h3><i class="fas fa-poilceStation"></i> Nearby Police Station</h3>
                  <ul>
                    <p><strong>Name:</strong> Kumbalagudu Police Station <br>
                    <strong>Phone:</strong> <a href='tel:08028437599'>08028437599 </a><br>
                    <strong>Distance : </strong>6.6 km<br>
                    <strong>‚è∞ETA:</strong> ~13 mins
                  </p>
                    <p><strong>Name:</strong> Kengeri Police Station <br>
                    <strong>Phone:</strong> <a href='tel:08022942510'>08022942510 </a><br>
                    <strong>Distance : </strong> 8.7 km<br>
                    <strong>‚è∞ETA:</strong> ~17 mins
                  </p>
                  
            
                </ul>
                </div>
              
                <div class="info-box">
                  <h3><i class="fas fa-hospital"></i> Nearby Hospitals</h3>
                  <ul>
                    <p><strong>Name:</strong> RajaRajeshwari hospital, Kengeri  <br>
                    <strong>Phone:</strong> <a href='tel:08028437888'>080 2843 7888 </a><br>
                    <strong>Distance : </strong> 4 km<br>
                    <strong>‚è∞ETA:</strong> ~10mins
                  </p>
                  <p><strong>Name:</strong> Sdm Institute Of Ayurveda and Hospital, Kengeri  <br>
                    <strong>Phone:</strong> <a href='tel:09741897124'>09741897124</a><br>
                    <strong>Distance : </strong> 5.6 km<br>
                    <strong>‚è∞ETA:</strong> ~13mins
                  </p>
                    <p><strong>Name:</strong> Gleneagles bgs hospital, Kengeri  <br>
                    <strong>Phone:</strong> <a href='tel:8527306331'> 8527306331 </a><br>
                    <strong>Distance : </strong> 11.2 km<br>
                    <strong>‚è∞ETA:</strong> ~26 mins
                  </p>  


                    <p><strong>Name:</strong> Bangalore Hospital Kengeri <br>
                    <strong>Phone:</strong> <a href='tel:9090804680'> 9090804680 </a><br>
                    <strong>Distance : </strong> 11.4 km<br>
                    <strong>‚è∞ETA:</strong> ~27 mins
                  </p>            </ul>
                </div>
                  <div class="info-box">
                  <h3><i class="fas fa-fire-extinguisher"></i> Nearest Fire Station</h3>
                  <p><strong>Name:</strong> Nagarbhavi Fire Station <br>
                    <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
                    <strong>Distance : </strong> 14.7 km<br>
                    <strong>‚è∞ETA:</strong> ~32 mins
                  </p>
                  <p><strong>Name:</strong> Ramanagara Fire Station <br>
                    <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
                    <strong>Distance : </strong> 21.4 km<br>
                    <strong>‚è∞ETA:</strong> ~34 mins
                  </p>
                  <button onclick="logFireIncident()">Log Fire Call</button>
                </div>
            
                <h3><i class="fas fa-fire"></i> Fire Safety Equipments at IRIDM :</h3>
                <p><strong>Fire extinguisher ABC type:</strong> 8 , one in each class</p>
                <p><strong>Fire Emergency Exit:</strong> 2 </p>
                <p><strong>Trained Staff:</strong> 8 firefighters, 1 supervisor</p>
              </div>
              </div>

              <div class='evacuation-plan'>
        <h3>Ground Floor - Hostel Block</h3>
         <img src="hostelGroundFloor.jpg" alt="Hostel Ground Floor Plan">
      </div>
      <div class='evacuation-plan'>
        <h3>Ground Floor - Admin Block </h3>
        <img src='adminBlockGround.jpg' alt='Placeholder for Admin Ground Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor - Admin Block</h3>
        <img src='adminFirst.jpg' alt='Placeholder for Admin First Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor & Terrace - Hostel </h3>
       
        <img src="hostelFirest.jpg" alt="Hostel Top Floor Plan">

      </div>
      </div>
    <div id="mitig" class="tabPanel" style="display:none">
  <div class="container px-3">
    <h2 class="mt-4 mb-3 text-center">üõ°Ô∏è Mitigation Measures for IRIDM Campus</h2>
    <p class="mb-4">
      To enhance the resilience of the Indian Railways Institute of Disaster Management (IRIDM) campus against fire and related hazards, the following mitigation strategies are implemented. All instructions are standardized in English for clarity across staff, trainees, and visitors.
    </p>

    <div class="accordion" id="mitigationAccordion">

      <!-- 1. Dry Grass Management -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
            üåæ 1. Dry Grass & Vegetation Management
          </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Weekly clearing of dry grass, leaves, and vegetation‚Äîespecially in dry seasons.</li>
              <li>No open burning or biomass near buildings (within 10 meters).</li>
              <li>Use low-flammability plants near electrical or fuel zones.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 2. Fire Communication System -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
            üì¢ 2. Campus-wide Fire Communication & Alarm System
          </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <h6>Electronic Fire Alarm Network</h6>
            <ul>
              <li>Smoke/heat detectors in classrooms, dorms, labs, kitchens, etc.</li>
              <li>Siren (‚â•110 dB), strobe lights, digital board alerts upon activation.</li>
            </ul>
            <h6>Manual Fire Alert System</h6>
            <ul>
              <li>Mechanical fire bells at key block entries and open areas.</li>
              <li>Audible alarms up to 100 meters; operated by trained staff.</li>
            </ul>
            <h6>Portable Communication Devices</h6>
            <ul>
              <li>Megaphones and walkie-talkies in each block for coordination.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 3. Fire Hydrants & Sprinklers -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingThree">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
            üöø 3. Fire Hydrant & Sprinkler System
          </button>
        </h2>
        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Hydrants every 100m covering all zones (hostels, blocks).</li>
              <li>Connected to pressurized pipeline & reliable water source.</li>
              <li>Sprinklers in high-risk areas: bedrooms, labs, kitchens, auditorium, control rooms.</li>
              <li>Hydrant location maps at each building entrance.</li>
              <li><a href="IRIDM_Mitigation_Updated.pdf" target="_blank"> Fire Hydrant system and Auto Sprinkler system design and Deployment in IRIDM campus</a></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 4. Fire Extinguishers -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingFour">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
            üßØ 4. Fire Extinguishers
          </button>
        </h2>
        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <table class="table table-bordered table-sm text-center">
              <thead class="table-secondary">
                <tr>
                  <th>Type</th>
                  <th>Location</th>
                  <th>Purpose</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>ABC Dry Powder</td>
                  <td>Classrooms, Corridors</td>
                  <td>General fires</td>
                </tr>
                <tr>
                  <td>CO‚ÇÇ</td>
                  <td>Electrical Panels, Server Rooms</td>
                  <td>Electrical fires</td>
                </tr>
                <tr>
                  <td>Foam</td>
                  <td>Kitchens, Canteen</td>
                  <td>Oil/liquid fires</td>
                </tr>
              </tbody>
            </table>
            <ul>
              <li>Placement every 20 meters in key areas.</li>
              <li>Mounted at 1.2m, clearly labeled, monthly checks mandatory.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 5. Electrical Safety -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingFive">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
            ‚ö° 5. Electrical Safety Measures
          </button>
        </h2>
        <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Install MCBs and ELCBs in all buildings.</li>
              <li>Quarterly electrical audit.</li>
              <li>Ban on unauthorized wiring or installations.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 6. Signage & Access Control -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingSix">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix">
            üö™ 6. Signage & Access Control
          </button>
        </h2>
        <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>‚ÄúRESTRICTED AREA‚Äù signs for transformer rooms, fuel storage, etc.</li>
              <li>Warning signs for fire, electric shock, and chemical hazards.</li>
              <li>Clear assembly point markings in open zones.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 7. Evacuation Route -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingSeven">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven">
            üõ£Ô∏è 7. Emergency Evacuation & Route Markings
          </button>
        </h2>
        <div id="collapseSeven" class="accordion-collapse collapse" data-bs-parent="#mitigationAccordion">
          <div class="accordion-body">
            <ul>
              <li>Glow-in-the-dark tape on walls/floors of all emergency paths.</li>
              <li>Low-level lighting in staircases and exit routes.</li>
              <li>Signs like ‚ÄúEXIT‚Äù must be visible in complete darkness and comply with <a href="https://law.resource.org/pub/in/bis/S02/is.9457.2005.pdf" target="_blank">IS 9457</a>.</li>
              <li>Openings of the doors should be in outward direction.</li>
              <li>Auditorium to include dedicated emergency exit signage.</li>
              <li>Regular inspection of luminous materials for integrity.</li>
            </ul>
          </div>
        </div>
      </div>

    </div> <!-- end accordion -->

  </div>
</div>

      <div id="response" class="tabPanel" style="display:none">
        <!-- Response content -->
         <h3>Incident Command System (ICS) led by Director</h3>
         <p> <img src="hirecy.png" alt=" ICS Hierarchy">
          <ul>

              <li>Evacuation plans executed by Evacuation Team</li>
              <li>First Aid & medical assistance</li>
              <li>Firefighting via extinguishers & calling authorities</li>
              <li>Search & Rescue to ensure no one is left behind</li>
              <li>Centralized communication via designated spokesperson</li>
            </ul>
            </p>
            <div class="container mt-5">
  <h2 class="mb-4 text-center">üö® Emergency Response Team Structure</h2>
  <div class="table-responsive shadow p-3 bg-white rounded">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark text-center">
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Responsibility</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Director (Sr. Professor)</strong></td>
          <td>Top-level emergency controller, coordinates with external responders (fire, ambulance, police).</td>
        </tr>
        <tr>
          <td><strong>Joint Directors / Professors</strong></td>
          <td>Internal section coordination and emergency control point leaders.</td>
        </tr>
        <tr>
          <td><strong>Senior Instructors</strong></td>
          <td>Area-wise incident commanders (e.g., Classrooms, Hostels, Forest Zones).</td>
        </tr>
        <tr>
          <td><strong>Warden / Librarian</strong></td>
          <td>Hostel evacuation & library lockdown procedures.</td>
        </tr>
        <tr>
          <td><strong>Clerks & OS</strong></td>
          <td>Maintain emergency logs, contact rosters, and support desks.</td>
        </tr>
        <tr>
          <td><strong>Technical Staff (Tech-II)</strong></td>
          <td>Handle substation response, tunnel inspection, and simulation zone safety.</td>
        </tr>
        <tr>
          <td><strong>Assistants</strong></td>
          <td>Act as floor marshals in hostels, mess, and admin buildings.</td>
        </tr>
        <tr>
          <td><strong>Works Assistants</strong></td>
          <td>Check and maintain sprinklers, hydrants, and fire alarms.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
           <!-- <h3>üìä Incident Command Structure</h3>
        <ul>
             Roles & Responsibilities

              <li><strong>Director</strong> ‚Äì Incident Commander</li>
              <li><strong>Safety Officer</strong> ‚Äì Monitors hazard conditions</li>
              <li><strong>Operations Chief</strong> ‚Äì Directs firefighting & evacuation</li>
              <li><strong>Logistics Chief</strong> ‚Äì Coordinates equipment, manpower</li>
              <li><strong>Information Officer</strong> ‚Äì Communicates with public & media</li>
            </ul>
          -->
           
      </div>
     <!-- <div id="hrv" class="tabPanel" style="display:none;">
        <h3>Hazard Risk & Vulnerability (HRV)</h3>
        <div>
          <h4> Overview</h4>

        </div>-->
       <!-- <ul>
          <li>Room 201 ‚Äì üî• Fire Prone (Pantry)</li>
          <li>Lab A1 ‚Äì ‚ö° Short Circuit Risk</li>
          <li>Admin Basement ‚Äì üåä Flood Prone</li>
        </ul>
      </div> -->

      <div id="hrv" class="tabPanel" style="display:none;">
  <div class="container px-3 py-4">
    <h2 class="mb-4 text-center"> Hazard, Risk & Vulnerability Assessment ‚Äì IRIDM Campus</h2>

    <!-- Campus Overview -->
    <div class="mb-4">
      <h4>üìç Campus Overview</h4>
      <ul>
        <li><strong>Area Type:</strong> Multi-functional training facility (classrooms, hostels, simulation zones, substation)</li>
        <li><strong>Structures:</strong> Admin Block, Auditorium, Tunga & Bhadra Hostels, Simulation Tunnels, Substation, Forest</li>
        <li><strong>Occupancy:</strong> Students, faculty, staff, visitors (peak loads during drills/events)</li>
        <li><strong>Topology:</strong><strong> ASK!! Low-lying with slopes, drainage-vulnerable</strong></li>
      </ul>
    </div>

    <!-- Hazards Identified -->
    <div class="mb-4">
      <h4>üß± Hazards Identified</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-sm">
          <thead class="table-light">
            <tr>
              <th>#</th>
              <th>Hazard</th>
              <th>Locations Affected</th>
              <th>Trigger</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>1</td><td>Fire (Electrical/Kitchen)</td><td>Auditorium, Hostels, Substation, Library</td><td>Overload, gas leak, negligence</td></tr>
            <tr><td>2</td><td>Smoke & Panic</td><td>Auditorium, Library, Tunnels</td><td>Fire, equipment failure</td></tr>
            <tr><td>3</td><td>Flooding / Waterlogging</td><td>Pond, tunnels, low tracks</td><td>Heavy rain, poor drainage</td></tr>
            <tr><td>4</td><td>Trespassing / Intrusion</td><td>Perimeter, simulations</td><td>Gaps, night-time fencing</td></tr>
            <tr><td>5</td><td>Structural Hazards</td><td>Under-construction, auditorium</td><td>Falling debris, design gap</td></tr>
            <tr><td>6</td><td>Slips / Falls</td><td>Stairs, damp corridors</td><td>Monsoon, no non-slip mats</td></tr>
            <tr><td>7</td><td>Electrical Shock</td><td>Substation, Labs, Classrooms</td><td>Wet walls, fault equipment</td></tr>
            <tr><td>8</td><td>Animal Intrusion</td><td>Forest, hostel buffer zones</td><td>snakes, insects , strays</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
      <!-- Smart Classrooms -->
    <div class="col">
      <div class="card border-primary shadow">
        <div class="card-body">
          <h5 class="card-title text-primary"> Fire Prone Area</h5>
          <p class="card-text">
            ‚Ä¢ <a> </a>Admin Block<br>
            ‚Ä¢ Hostel <br>
            ‚Ä¢ Open Areas
          </p>
        </div>
      </div>
    </div>
    <br>

    <!-- Hostels -->
    <div class="col">
      <div class="card border-danger shadow">
        <div class="card-body">
          <h5 class="card-title text-danger">Trespassing Prone Area</h5>
         <!-- <ul class="mb-0">
            <li><strong>Tunga Block:</strong> 40 rooms, 100 beds (twin/triple sharing)</li>
            <li><strong>Bhadra Block:</strong> 28 rooms (double occupancy)</li>
          </ul>-->
        </div>
      </div>
    </div>
<br>
    <!-- Kitchen -->
    <div class="col">
      <div class="card border-dark shadow">
        <div class="card-body">
          <h5 class="card-title text-dark">Electrical Harzard Prone Area</h5>
          <ul class="mb-0">
            <li>Admin Block</li>
            <li>Hostel</li>
            <li>Sub Station</li>
            <li>Open Area</li>
          </ul>
        </div>
      </div>
    </div>
<br>
    <!-- Construction -->
    <div class="col">
      <div class="card border-info shadow">
        <div class="card-body">
          <h5 class="card-title text-info">Construction Hazard</h5>
          <p class="card-text"></p>
        </div>
      </div>
    </div>
<br>
    <!-- Flood Prone Area -->
    <div class="col">
      <div class="card border-secondary shadow">
        <div class="card-body">
          <h5 class="card-title text-secondary">Flood Prone Area</h5>
          <p class="card-text"></p>
        </div>
      </div>
    </div>
<br>
      <!-- Animanl Intrusion  -->
    <div class="col">
      <div class="card border-warning shadow">
        <div class="card-body">
          <h5 class="card-title text-warning">Animal Intrusion</h5>
          <p class="card-text"></p>
        </div>
      </div>
    </div>
<br>
    <!-- Stamped  -->
    <div class="col">
      <div class="card border-success shadow">
        <div class="card-body">
          <h5 class="card-title text-success">Stamped Prone Area</h5>
          <p class="card-text"></p>
        </div>
      </div>
    </div>

<br>

    <!-- Risk Level Summary -->
    <div class="mb-4">
      <h4>üìä Risk Level Summary</h4>
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead class="table-light">
            <tr>
              <th>Area</th>
              <th>Hazard Type</th>
              <th>Risk Level</th>
              <th>Why</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Auditorium</td>
              <td>Fire, Panic, Smoke</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Overcrowding, only 1 exit, no sprinklers</td>
            </tr>
            <tr>
              <td>Hostels</td>
              <td>Fire, Electrical, Trespassing</td>
              <td><span class="badge bg-warning text-dark">üü† Medium</span></td>
              <td>Night occupancy, open pathways</td>
            </tr>
            <tr>
              <td>Substation</td>
              <td>Fire, Electric shock, Waterlogging</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Vital asset, exposed area</td>
            </tr>
            <tr>
              <td>Simulation Tunnel</td>
              <td>Smoke, Collapse, Waterlogging</td>
              <td><span class="badge bg-danger">üî¥ High</span></td>
              <td>Enclosed layout, deep structure</td>
            </tr>
            <tr>
              <td>Forest/Dry Vegetation</td>
              <td>Minor Fires, Animal Intrusion</td>
              <td><span class="badge bg-warning text-dark">üü† Medium</span></td>
              <td>Seasonal hazard</td>
            </tr>
            <tr>
              <td>Entry/Exit Zones</td>
              <td>Trespassing, Panic Evacuation</td>
              <td><span class="badge bg-info text-dark">üü° Low‚ÄìMedium</span></td>
              <td>Needs stronger access control</td>
            </tr>
            <tr>
              <td>Under Construction Areas</td>
              <td>Collapse, Entry by mistake</td>
              <td><span class="badge bg-warning text-dark">üü† Medium</span></td>
              <td>Unsupervised temporary structures</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Vulnerability Index -->
    <div class="mb-4">
      <h4>üßç Vulnerability Index</h4>
      <table class="table table-bordered table-sm">
        <thead class="table-light">
          <tr>
            <th>Population Group</th>
            <th>Exposure</th>
            <th>Vulnerability</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Students (Hostels)</td><td>High (24/7)</td><td>High</td></tr>
          <tr><td>Staff (Admin)</td><td>Medium</td><td>Medium</td></tr>
          <tr><td>Trainers (Simulation)</td><td>High (at-risk zone)</td><td>High</td></tr>
          <tr><td>Visitors (Auditorium)</td><td>Periodic</td><td>High during events</td></tr>
          <tr><td>Workers (Construction)</td><td>Limited area</td><td>Medium</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Trespassing & Security -->
    <div class="mb-3">
      <h4>üö∑ Trespassing & Security Concerns</h4>
      <ul>
        <li><strong>Access Points:</strong> Multiple open boundaries; some unmanned at night</li>
        <li><strong>Perimeter Issues:</strong> Blind spots, limited CCTV, no motion detection</li>
        <li><strong>Risks:</strong>
          <ul>
            <li>Unauthorized access to simulation zones</li>
            <li>Hostel or forest intrusion after hours</li>
          </ul>
        </li>
      </ul>
    </div>

  </div>
</div>



      <div id="recovery" class="tabPanel" style="display:none">
        <!-- Recovery content -->
         <h3>Recovery and Rehabilitation </h3>
         <P><li>Damage assessment and quick repairs</li>
            <li>Shelter & care for affected individuals</li>
            <li>Counseling and psychological support</li>
            <li>Full restoration of services (power, water, IT)</li>
            <li>Post-disaster review and plan updates</li>
            <li>Government compensation facilitation (if applicable)</li></P>
             <button onclick="toggleInfoBox('damageTab')">üìã Damage Assessment</button>
            <div id="damageTab" class="tabPanel" style="display: none;">
              <h3>Damage Assessment Details</h3>
              <ul>
                <li>Structural Damage Evaluation</li>
                <li>IT Infrastructure & Equipment Loss</li>
                <li>Casualty & Injury Reports</li>
                <li>Estimated Recovery Cost</li>
              </ul>
             
             <h3>üß± Structural Damage Evaluation</h3>
              <div class="form-block">
                <label>Location: <input type="text" id="structLoc"></label>
                <label>Damage Level: <input type="text" id="structLevel"></label>
                <label>Remarks: <textarea id="structRemarks"></textarea></label>
                <button onclick="saveStructDamage()">Save</button>
                <button onclick="viewHistory('struct')">üìÑ View History</button>
                <button onclick="downloadCSV('struct')">‚¨á Download CSV</button>
              </div>

              <div id="structHistory"></div>

              <hr>

              <h3>üíª IT Infrastructure & Equipment Loss</h3>
              <div class="form-block">
                <label>System/Area: <input type="text" id="itArea"></label>
                <label>Type of Equipment: <input type="text" id="itType"></label>
                <label>Remarks: <textarea id="itRemarks"></textarea></label>
                <button onclick="saveITLoss()">Save</button>
                <button onclick="viewHistory('it')">üìÑ View History</button>
                <button onclick="downloadCSV('it')">‚¨á Download CSV</button>
              </div>

              <div id="itHistory"></div>

        <h3>ü§ï Casualty and Injury Reports</h3>
        <div class="form-block">
          <label>Person Name: <input type="text" id="casualtyName"></label>
          <label>Injury Severity: <input type="text" id="casualtySeverity"></label>
          <label>Details: <textarea id="casualtyNote"></textarea></label>
          <button onclick="saveCasualtyDamage()">Save</button>
          <button onclick="viewHistory('casual')">üìÑ View History</button>
          <button onclick="downloadCSV('casual')">‚¨á Download CSV</button>
        </div>

        <!-- üÜï Add separate table container -->
        <div id="casualtyHistory" class="mt-2"></div>

        <hr>
      <h3>üíπ Estimated Recovery Cost</h3>
      <div class="form-block">
        <label>Estimated Cost (INR): <input type="number" id="recoveryCost"></label>
        <label>Affected Area: <input type="text" id="recoveryArea"></label>
        <label>Remarks: <textarea id="recoveryRemarks"></textarea></label>
        <button onclick="saveRecoveryLoss()">Save</button>
        <button onclick="viewHistory('re_cost')">üìÑ View History</button>
        <button onclick="downloadCSV('re_cost')">‚¨á Download CSV</button>
      </div>

      <!-- üÜï Add table container -->
      <div id="recoveryHistory" class="mt-2"></div>

      </div>
 
        <p>     <br>   </p>
        <button onclick="downloadAllCSVs()">‚¨á Download CSV information of Damage Assessment and quicks repairs</button>
          </div>
    </section>

    <section id="map">
      <h2>Live Campus </h2>
      <div id="mapid" style="height: 400px;"><div style="position:absolute; top: 120px; right: 20px; z-index: 999;">
      <div id="mapCompass" style="position:absolute; top:100px; right:25px; z-index:1000;">
  <img src="campass.png" id="compassIcon" style="width:60px; transform: rotate(0deg);">
</div>
</div>
</div>
    </section>
  </main>

  <script>
    function updateDisasterSubtypes() {
      const type = document.getElementById("disasterType").value;
      const subTypeContainer = document.getElementById("subTypeContainer");
      subTypeContainer.innerHTML = "";

      if (type === "Natural") {
        subTypeContainer.innerHTML = `
          <label for='subType'><i class='fas fa-mountain'></i> Select Subtype:</label>
          <select id='subType' onchange='handleSubtype(this.value)'>
            <option value=''>Select</option>
            <option>Flood</option>
            <option>Earthquake</option>
            <option>Cyclone</option>
          </select>`;
      } else if (type === "ManMade") {
        subTypeContainer.innerHTML = `
          <label for='subType'><i class='fas fa-industry'></i> Select Subtype:</label>
          <select id='subType' onchange='handleSubtype(this.value)'>
            <option value=''>Select</option>
            <option>Fire</option>
            <option>Train Accident</option>
            <option>Infrastructure Collapse</option>
            <option>Machinery Breakdown</option>
            <option>Medical Emergency</option>
          </select>`;
      } else if (type === "Technical") {
        subTypeContainer.innerHTML = `
          <label for='subType'><i class='fas fa-microchip'></i> Select Subtype:</label>
          <select id='subType' onchange='handleSubtype(this.value)'>
            <option value=''>Select</option>
            <option>Power Failure</option>
            <option>IT System Breakdown</option>
            <option>Transportation Accident</option>
          </select>`;
      }
    }

    function handleSubtype(value) {
      const details = document.getElementById("fireDetails");
      if (value === "Fire") {
        showTab("prep");
        details.innerHTML = `
          <div class="info-box">
            <h3><i class="fas fa-fire-extinguisher"></i> Nearest Fire Station</h3>
            <p><strong>Name:</strong> Nagarbhavi Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 14.7 km<br>
               <strong>‚è∞ETA:</strong> ~32 mins
            </p>
             <p><strong>Name:</strong> Ramanagara Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 21.4 km<br>
               <strong>‚è∞ETA:</strong> ~34 mins
            </p>
            <button onclick="logFireIncident()">Log Fire Call</button>
          </div>
          <div class="info-box">
            <h3><i class="fas fa-hospital"></i> Nearby Hospitals</h3>
            <ul>
              <p><strong>Name:</strong> RajaRajeshwari hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:08028437888'>080 2843 7888 </a><br>
               <strong>Distance : </strong> 4 km<br>
               <strong>‚è∞ETA:</strong> ~10mins
            </p>
             <p><strong>Name:</strong> Sdm Institute Of Ayurveda and Hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:09741897124'>09741897124</a><br>
               <strong>Distance : </strong> 5.6 km<br>
               <strong>‚è∞ETA:</strong> ~13mins
            </p>
              <p><strong>Name:</strong> Gleneagles bgs hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:8527306331'> 8527306331 </a><br>
               <strong>Distance : </strong> 11.2 km<br>
               <strong>‚è∞ETA:</strong> ~26 mins
            </p>  


              <p><strong>Name:</strong> Bangalore Hospital Kengeri <br>
               <strong>Phone:</strong> <a href='tel:9090804680'> 9090804680 </a><br>
               <strong>Distance : </strong> 11.4 km<br>
               <strong>‚è∞ETA:</strong> ~27 mins
            </p>            </ul>
          </div>
          <div class="info-box">
            <h3><i class="fas fa-poilceStation"></i> Nearby Police Station</h3>
            <ul>
              <p><strong>Name:</strong> Kumbalagudu Police Station <br>
               <strong>Phone:</strong> <a href='tel:08028437599'>08028437599 </a><br>
               <strong>Distance : </strong>6.6 km<br>
               <strong>‚è∞ETA:</strong> ~13 mins
            </p>
              <p><strong>Name:</strong> Kengeri Police Station <br>
               <strong>Phone:</strong> <a href='tel:08022942510'>08022942510 </a><br>
               <strong>Distance : </strong> 8.7 km<br>
               <strong>‚è∞ETA:</strong> ~17 mins
            </p>
            
      
           </ul>
          </div>
          
          <div class="info-box">
            <h3><i class="fas fa-clipboard-list"></i> Log Response Details</h3>
            <label>Call Time: <input type='time' id='callTime'></label><br>
            <label>Arrival Time: <input type='time' id='arrivalTime'></label><br>
            <label>Resolution Time: <input type='time' id='resolveTime'></label><br>
            <label>Ambulance Details: <input type='text' id='ambulanceInfo' placeholder='Ambulance Reg./Driver'></label><br>
            <label>Patient Condition: <textarea id='patientNote'></textarea></label><br>
            <button onclick='submitIncidentDetails()'>Submit Log</button>
          </div>`;
      } else {
        details.innerHTML = "";
      }
    }

    function logFireIncident() {
      alert("Fire call has been logged successfully.");
    }

   
    function submitIncidentDetails() {
  const callTime = document.getElementById('callTime').value;
  const arrival = document.getElementById('arrivalTime').value;
  const resolve = document.getElementById('resolveTime').value;
  const ambulance = document.getElementById('ambulanceInfo').value;
  const patient = document.getElementById('patientNote').value;

  if (!callTime || !arrival || !resolve || !ambulance || !patient) {
    alert('Please fill in all fields.');
    return;
  }

  fetch('http://localhost:5000/api/log', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      status: 'Fire Incident',
      location: 'IRIDM Campus',
      notes: `Call: ${callTime}, Arrival: ${arrival}, Resolve: ${resolve}, Ambulance: ${ambulance}, Patient: ${patient}`
    })
  })
  .then(response => response.json())
  .then(data => {
    alert('Incident details submitted and logged successfully.');
  })
  .catch(error => {
    console.error('Error logging incident:', error);
    alert('Failed to submit log.');
  });

      alert(`Fire Incident Logged:\nCall: ${callTime}\nArrival: ${arrival}\nResolved: ${resolve}\nAmbulance: ${ambulance}\nPatient: ${patient}`);
    }
  </script>

  <script>
function handleSubtype(value) {
  const details = document.getElementById("fireDetails");
  if (value === "Fire") {
    showTab("prep");
    details.innerHTML = `
      <div class="info-box">
        <h3><i class="fas fa-fire-extinguisher"></i> Nearest Fire Station</h3>
        <p><strong>Name:</strong> Nagarbhavi Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 14.7 km<br>
               <strong>‚è∞ETA:</strong> ~32 mins
            </p>
             <p><strong>Name:</strong> Ramanagara Fire Station <br>
               <strong>Phone:</strong> <a href='tel:101'> 101 </a><br>
               <strong>Distance : </strong> 21.4 km<br>
               <strong>‚è∞ETA:</strong> ~34 mins
            </p>
        <button onclick="logFireIncident()">Log Fire Call</button>
      </div>
      <div class="info-box">
        <h3><i class="fas fa-hospital"></i> Nearby Hospitals</h3>
        <ul>
              <p><strong>Name:</strong> RajaRajeshwari hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:08028437888'>080 2843 7888 </a><br>
               <strong>Distance : </strong> 4 km<br>
               <strong>‚è∞ETA:</strong> ~10mins
            </p>
              <p><strong>Name:</strong> Gleneagles bgs hospital, Kengeri  <br>
               <strong>Phone:</strong> <a href='tel:8527306331'> 8527306331 </a><br>
               <strong>Distance : </strong> 11.2 km<br>
               <strong>‚è∞ETA:</strong> ~26 mins
            </p>  


              <p><strong>Name:</strong> Bangalore Hospital Kengeri <br>
               <strong>Phone:</strong> <a href='tel:9090804680'> 9090804680 </a><br>
               <strong>Distance : </strong> 11.4 km<br>
               <strong>‚è∞ETA:</strong> ~27 mins
            </p>            </ul>
      </div>
      <div class="info-box">
        <h3><i class="fas fa-clipboard-list"></i> Log Response Details</h3>
        <label>Reporting Call Time: <input type='time' id='callTime'></label><br>
        <label>Arrival Time: <input type='time' id='arrivalTime'></label><br>
        <label>Resolution Time: <input type='time' id='resolveTime'></label><br>
        <label>Cause of Fire: <textarea id='fireCause'></label><br>
        <label>Number of Staff reached: <input type='text' id='staffreached'></label><br>
        <label>Ambulance Details: <input type='text' id='ambulanceInfo' placeholder='Ambulance Reg./Driver'></label><br>
        <label>Patient Condition: <textarea id='patientNote'></textarea></label><br>
        <button onclick='submitIncidentDetails()'>Submit Log</button>
      </div>
    `;
  } else if (value === "Evacuation Plans") {
    showTab("prep");
    const evacSection = document.getElementById("prepContent");
    const responseTab = document.getElementById("response");
    const evacHTML = `
      <div class='evacuation-plan'>
        <h3>Ground Floor - Hostel Block</h3>
         <img src="hostel_groundFloor - Copy.jpg" alt="Hostel Ground Floor Plan">
      </div>
      <div class='evacuation-plan'>
        <h3>Ground Floor - Admin Block </h3>
        <img src='adminBlockGround.jpg' alt='Placeholder for Admin Ground Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor - Admin Block</h3>
        <img src='admionFirest.jpg' alt='Placeholder for Admin First Floor Plan'>
      </div>
      <div class='evacuation-plan'>
        <h3>First Floor & Terrace - Hostel</h3>
       
        <img src="hostelFirest.jpg" alt="Hostel Top Floor Plan">

      </div>
    `;
    evacSection.innerHTML = evacHTML;
    responseTab.innerHTML += `<h3>üß≠ Evacuation Reference Plan</h3>${evacHTML}`;
  } else {
    details.innerHTML = "";
  }
}
</script>

<!-- Below are the integrated additions based on your request -->

<!-- 1. ICS Hierarchy (under Response Tab) -->
<!--<div id="ics-hierarchy" class="tabPanel" style="display:none">
  <h2>üß≠ ICS Hierarchy Structure</h2>
  <img src="ics_chart.png" alt="ICS Hierarchy Chart">
  <p>
    The Incident Command System (ICS) at IRIDM follows a top-down leadership model:
    <ul>
      <li><strong>Incident Commander:</strong> Director</li>
      <li><strong>Operations Chief:</strong> Response team coordinator</li>
      <li><strong>Logistics Chief:</strong> Supplies & personnel manager</li>
      <li><strong>Planning Chief:</strong> Handles information & action plans</li>
      <li><strong>Safety Officer:</strong> Ensures responder safety</li>
    </ul>
  </p>
</div>-->

<!-- 2. Damage Assessment Dropdown (opens sub-tab or modal) -->
<!--<label for="damageAssessment">üìã Damage Assessment:</label>
<select id="damageAssessment">
  <option value="">Select</option>
  <option value="building">Building Damage</option>
  <option value="infrastructure">Infrastructure</option>
  <option value="utilities">Utilities & Power</option>
  <option value="casualties">Casualties</option>
</select>
<div id="damageContent" class="info-box"></div>-->

<!-- 3. Hazard Risk & Vulnerability Analysis (HRV Section) -->
<!--<div id="hrv-analysis" class="tabPanel" style="display:none">
  <h2>üöß Hazard Risk & Vulnerability Analysis (HRV)</h2>
  <ul>
    <li><strong>Flood-Prone Area:</strong> Admin block basement</li>
    <li><strong>Trespassing Zone:</strong> Boundary behind Hostel</li>
    <li><strong>Short Circuit Prone:</strong> Server room & labs</li>
    <li><strong>High Wind Zone:</strong> Open terrace above canteen</li>
  </ul>
</div>-->

<!-- 4. Compass for Map -->
<!--<div id="mapCompass" style="position:absolute; top:100px; right:25px; z-index:1000">
  <img src="compass.png" alt="Compass" style="width:80px;">
</div>-->

<!-- 5. Map Outline Highlight (IRIDM Campus Outline) -->
<!--<script>
  const iridmBoundary = [
    [12.9080, 77.4325],
    [12.9085, 77.4335],
    [12.9075, 77.4337],
    [12.9070, 77.4326],
    [12.9080, 77.4325] // close the polygon
  ];
  L.polygon( iridmBoundary, {
    color: '#ff0000',
    fillOpacity: 0.1,
    weight: 2
  }).addTo(map).bindPopup("IRIDM Campus Outline");
</script>-->

<!-- 6. JavaScript to Show Tab (Damage Assessment) -->
<!--<script>
  document.getElementById('damageAssessment').addEventListener('change', function() {
    const value = this.value;
    const box = document.getElementById('damageContent');
    if (value === 'building') {
      box.innerHTML = '<h3>Building Damage</h3><p>Cracks, roof collapses, structural integrity checks needed.</p>';
    } else if (value === 'infrastructure') {
      box.innerHTML = '<h3>Infrastructure</h3><p>Broken roads, damaged water lines, communication cut-offs.</p>';
    } else if (value === 'utilities') {
      box.innerHTML = '<h3>Utilities</h3><p>Power outages, water contamination, gas leaks.</p>';
    } else if (value === 'casualties') {
      box.innerHTML = '<h3>Casualties</h3><p>Injuries, fatalities, medical transport and triage zones.</p>';
    } else {
      box.innerHTML = '';
    }
  });
</script> -->


<script>
document.addEventListener("DOMContentLoaded", function () {
  const responseTab = document.getElementById("response");
  fetch("http://localhost:5000/api/logs")
    .then(res => res.json())
    .then(data => {
      if (data.length) {
        let table = `<table class='log-table'><thead><tr><th>Timestamp</th><th>Status</th><th>Location</th><th>Details</th></tr></thead><tbody>`;
        data.forEach(row => {
          table += `<tr><td>${row.timestamp}</td><td>${row.status}</td><td>${row.location}</td><td>${row.notes}</td></tr>`;
        });
        table += `</tbody></table>`;
        responseTab.innerHTML += `<h3>üö® Incident Response Logs</h3>${table}`;
      }
    })
    .catch(err => console.error("Error fetching logs:", err));
});
</script>

<!--------------------------------------- CHAT bOT ------------------------------------------>
<!-- Floating Chatbot Icon
<div id="chatbotIcon" onclick="toggleChatPopup()">ü§ñ</div>

<!-- Chatbot Popup Box 
<div id="chatPopup">
  <div id="chatHeader">
    IRIDM Assistant
    <span style="cursor:pointer;" onclick="toggleChatPopup()">√ó</span>
  </div>
  <div id="chatBody">
    <div id="chatMessages"></div>
    <div id="chatInputArea">
      <input type="text" id="chatInput" placeholder="Ask something..." />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>
</div>
-->
 <!--<script src="chatbot-proxy.js"></script>-->

  <script src="app.js"></script>
</body>
</html>
